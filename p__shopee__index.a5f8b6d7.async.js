/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkantd_admin"] = self["webpackChunkantd_admin"] || []).push([[554],{

/***/ 78308:
/***/ (function(module) {

eval("// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table___1-nlp\"};\n\n//# sourceURL=webpack://antd-admin/./src/pages/shopee/components/List.less?");

/***/ }),

/***/ 86962:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ shopee; }\n});\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(8870);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js + 1 modules\nvar regeneratorRuntime = __webpack_require__(90636);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(3182);\n// EXTERNAL MODULE: ./node_modules/@lingui/core/build/esm/index.js + 1 modules\nvar esm = __webpack_require__(45610);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./src/.umi-production/core/umiExports.ts + 17 modules\nvar umiExports = __webpack_require__(15854);\n// EXTERNAL MODULE: ./src/components/index.js + 23 modules\nvar components = __webpack_require__(8571);\n// EXTERNAL MODULE: ./node_modules/qs/lib/index.js\nvar lib = __webpack_require__(80129);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__(91896);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(93224);\n// EXTERNAL MODULE: ./node_modules/@lingui/react/build/esm/index.js\nvar build_esm = __webpack_require__(21693);\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 10 modules\nvar modal = __webpack_require__(95207);\n// EXTERNAL MODULE: ./node_modules/antd/es/table/index.js + 50 modules\nvar table = __webpack_require__(31123);\n// EXTERNAL MODULE: ./src/pages/shopee/components/List.less?modules\nvar Listmodules = __webpack_require__(78308);\nvar Listmodules_default = /*#__PURE__*/__webpack_require__.n(Listmodules);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(30381);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n;// CONCATENATED MODULE: ./src/pages/shopee/components/List.jsx\n\n\n\nvar _excluded = [\"onDeleteItem\", \"onEditItem\"];\n\n\n\n\n\n\n\n\nvar List_confirm = modal/* default.confirm */.Z.confirm;\n\nclass List extends react.PureComponent {\n  constructor() {\n    super(...arguments);\n\n    this.handleMenuClick = (record, e) => {\n      var _this$props = this.props,\n          onDeleteItem = _this$props.onDeleteItem,\n          onEditItem = _this$props.onEditItem;\n\n      if (e.key === '1') {\n        onEditItem(record);\n      } else if (e.key === '2') {\n        List_confirm({\n          title:\n          /*i18n*/\n          esm/* i18n._ */.ag._(\"Are you sure delete this record?\"),\n\n          onOk() {\n            onDeleteItem(record.id);\n          }\n\n        });\n      }\n    };\n  }\n\n  render() {\n    var _this$props2 = this.props,\n        onDeleteItem = _this$props2.onDeleteItem,\n        onEditItem = _this$props2.onEditItem,\n        tableProps = (0,objectWithoutProperties/* default */.Z)(_this$props2, _excluded);\n\n    var pagination = tableProps.pagination;\n    var totalItem = pagination === null || pagination === void 0 ? void 0 : pagination.total;\n    var columns = [{\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"Id\"\n      }),\n      dataIndex: 'id',\n      key: 'id',\n      width: '4%'\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"Short Link\"\n      }),\n      dataIndex: 'shortlink',\n      key: 'shortlink',\n      width: '15%',\n      render: (text, record) => {\n        var _record$domain, _record$domain2, _record$domain3, _record$domain4;\n\n        return /*#__PURE__*/react.createElement(\"a\", {\n          href: ((_record$domain = record.domain) !== null && _record$domain !== void 0 && _record$domain.link ? ((_record$domain2 = record.domain) === null || _record$domain2 === void 0 ? void 0 : _record$domain2.link) + '/' : '') + record.shortlink,\n          target: \"_blank\"\n        }, ((_record$domain3 = record.domain) !== null && _record$domain3 !== void 0 && _record$domain3.link ? ((_record$domain4 = record.domain) === null || _record$domain4 === void 0 ? void 0 : _record$domain4.link) + '/' : '') + record.shortlink);\n      }\n    }, // {\n    //   title: <Trans>Shoope Link</Trans>,\n    //   dataIndex: 'shopelink',\n    //   key: 'shopelink',\n    //   ellipsis: true,\n    //   width: '15%',\n    //   render: (text, record) => <a href={record.shopelink} target=\"_blank\">{text}</a>\n    // },\n    {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"Domain\"\n      }),\n      dataIndex: 'domain',\n      width: '8%',\n      key: 'domain',\n      ellipsis: true,\n      render: (text, record) => {\n        var _record$domain5;\n\n        return /*#__PURE__*/react.createElement(\"span\", null, (_record$domain5 = record.domain) === null || _record$domain5 === void 0 ? void 0 : _record$domain5.name);\n      }\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"Link G\\u1ED1c\"\n      }),\n      dataIndex: 'originallink',\n      key: 'originallink',\n      ellipsis: true,\n      render: (text, record) => /*#__PURE__*/react.createElement(\"a\", {\n        href: record.originallink,\n        target: \"_blank\"\n      }, text)\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"SId1\"\n      }),\n      dataIndex: 'id1',\n      width: '5%',\n      key: 'id1',\n      ellipsis: true\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"SId2\"\n      }),\n      dataIndex: 'id2',\n      width: '5%',\n      key: 'id2',\n      ellipsis: true\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"SId3\"\n      }),\n      dataIndex: 'id3',\n      width: '5%',\n      key: 'id3',\n      ellipsis: true\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"SId4\"\n      }),\n      dataIndex: 'id4',\n      width: '5%',\n      key: 'id4',\n      ellipsis: true\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"SId5\"\n      }),\n      dataIndex: 'id5',\n      width: '5%',\n      key: 'id5',\n      ellipsis: true\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"Clicks\"\n      }),\n      dataIndex: 'click',\n      key: 'click',\n      ellipsis: true,\n      width: '5%'\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"CreateTime\"\n      }),\n      dataIndex: 'createdAt',\n      key: 'createdAt',\n      width: '13%',\n      render: (text, record) => /*#__PURE__*/react.createElement(\"span\", null, moment_default()(text).add(7, 'hours').format(\"DD/MM/yyyy HH:mm:ss\"))\n    }, {\n      title: /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n        id: \"Operation\"\n      }),\n      key: 'operation',\n      fixed: 'right',\n      width: '6%',\n      render: (text, record) => {\n        return /*#__PURE__*/react.createElement(components/* DropOption */.nl, {\n          onMenuClick: e => this.handleMenuClick(record, e),\n          menuOptions: [// { key: '1', name: t`Update` },\n          {\n            key: '2',\n            name:\n            /*i18n*/\n            esm/* i18n._ */.ag._(\"Delete\")\n          }]\n        });\n      }\n    }];\n    return /*#__PURE__*/react.createElement(table/* default */.Z, (0,esm_extends/* default */.Z)({}, tableProps, {\n      pagination: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, tableProps.pagination), {}, {\n        showTotal: total => \"Total \".concat(totalItem, \" Items\")\n      }),\n      className: (Listmodules_default()).table,\n      bordered: true,\n      scroll: {\n        x: 1200\n      },\n      columns: columns,\n      simple: true,\n      rowKey: record => record.id\n    }));\n  }\n\n}\n\n/* harmony default export */ var components_List = (List);\n// EXTERNAL MODULE: ./node_modules/dayjs/dayjs.min.js\nvar dayjs_min = __webpack_require__(27484);\nvar dayjs_min_default = /*#__PURE__*/__webpack_require__.n(dayjs_min);\n// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 9 modules\nvar input = __webpack_require__(94476);\n// EXTERNAL MODULE: ./node_modules/antd/es/date-picker/index.js + 9 modules\nvar date_picker = __webpack_require__(22194);\n// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 17 modules\nvar es_form = __webpack_require__(76704);\n// EXTERNAL MODULE: ./node_modules/antd/es/row/index.js\nvar row = __webpack_require__(71230);\n// EXTERNAL MODULE: ./node_modules/antd/es/col/index.js\nvar col = __webpack_require__(15746);\n// EXTERNAL MODULE: ./node_modules/antd/es/cascader/index.js + 1 modules\nvar cascader = __webpack_require__(17356);\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(71577);\n// EXTERNAL MODULE: ./src/utils/city.js\nvar city = __webpack_require__(46111);\n// EXTERNAL MODULE: ./node_modules/store/dist/store.legacy.js\nvar store_legacy = __webpack_require__(58971);\nvar store_legacy_default = /*#__PURE__*/__webpack_require__.n(store_legacy);\n;// CONCATENATED MODULE: ./src/pages/shopee/components/Filter.jsx\n\n\n\n\n\n\n\n\n\n\nvar Search = input/* default.Search */.Z.Search;\nvar RangePicker = date_picker/* default.RangePicker */.Z.RangePicker;\nvar ColProps = {\n  xs: 24,\n  sm: 12,\n  style: {\n    marginBottom: 16\n  }\n};\n\nvar TwoColProps = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, ColProps), {}, {\n  xl: 96\n});\n\nclass Filter extends react.Component {\n  constructor() {\n    super(...arguments);\n    this.formRef = /*#__PURE__*/react.createRef();\n\n    this.handleFields = fields => {\n      var createTime = fields.createTime,\n          link = fields.link;\n\n      if (createTime && createTime.length) {\n        fields.createTime = [dayjs_min_default()(createTime[0]).format('YYYY-MM-DD'), dayjs_min_default()(createTime[1]).format('YYYY-MM-DD')];\n      }\n\n      if (link && link.includes('https://thanh.riviu.vn/')) {\n        fields.link = link.replace('https://thanh.riviu.vn/', '');\n      }\n\n      return fields;\n    };\n\n    this.handleSubmit = () => {\n      var onFilterChange = this.props.onFilterChange;\n      var values = this.formRef.current.getFieldsValue();\n      var fields = this.handleFields(values);\n      onFilterChange(fields);\n    };\n\n    this.handleReset = () => {\n      var fields = this.formRef.current.getFieldsValue();\n\n      for (var item in fields) {\n        if ({}.hasOwnProperty.call(fields, item)) {\n          if (fields[item] instanceof Array) {\n            fields[item] = [];\n          } else {\n            fields[item] = undefined;\n          }\n        }\n      }\n\n      this.formRef.current.setFieldsValue(fields);\n      this.handleSubmit();\n    };\n\n    this.handleChange = (key, values) => {\n      var onFilterChange = this.props.onFilterChange;\n      var fields = this.formRef.current.getFieldsValue();\n      fields[key] = values;\n      fields = this.handleFields(fields);\n      onFilterChange(fields);\n    };\n  }\n\n  render() {\n    var user = store_legacy_default().get('user');\n    var _this$props = this.props,\n        onAdd = _this$props.onAdd,\n        filter = _this$props.filter,\n        listUser = _this$props.listUser;\n    var link = filter.link;\n    var initialCreateTime = [];\n\n    if (filter.createTime && filter.createTime[0]) {\n      initialCreateTime[0] = dayjs_min_default()(filter.createTime[0]);\n    }\n\n    if (filter.createTime && filter.createTime[1]) {\n      initialCreateTime[1] = dayjs_min_default()(filter.createTime[1]);\n    }\n\n    var users = listUser.map(g => {\n      return {\n        id: g.id,\n        value: g.id,\n        label: g.username\n      };\n    });\n    return /*#__PURE__*/react.createElement(es_form/* default */.Z, {\n      ref: this.formRef,\n      name: \"control-ref\",\n      initialValues: {\n        link,\n        createTime: initialCreateTime\n      }\n    }, /*#__PURE__*/react.createElement(row/* default */.Z, {\n      gutter: 24\n    }, /*#__PURE__*/react.createElement(col/* default */.Z, (0,esm_extends/* default */.Z)({}, ColProps, {\n      xl: {\n        span: 4\n      },\n      md: {\n        span: 8\n      }\n    }), /*#__PURE__*/react.createElement(es_form/* default.Item */.Z.Item, {\n      name: \"link\"\n    }, /*#__PURE__*/react.createElement(Search, {\n      placeholder:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Search Link\"),\n      onSearch: this.handleSubmit\n    }))), user.type === 'ctv' ? /*#__PURE__*/react.createElement(react.Fragment, null) : /*#__PURE__*/react.createElement(col/* default */.Z, (0,esm_extends/* default */.Z)({}, ColProps, {\n      xl: {\n        span: 4\n      },\n      md: {\n        span: 8\n      },\n      id: \"addressCascader\"\n    }), /*#__PURE__*/react.createElement(es_form/* default.Item */.Z.Item, {\n      name: \"user\"\n    }, /*#__PURE__*/react.createElement(cascader/* default */.Z, {\n      style: {\n        width: '100%'\n      },\n      options: users,\n      placeholder:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Ch\\u1ECDn ctv\")\n    }))), /*#__PURE__*/react.createElement(col/* default */.Z, (0,esm_extends/* default */.Z)({}, ColProps, {\n      xl: {\n        span: 6\n      },\n      md: {\n        span: 8\n      },\n      sm: {\n        span: 12\n      },\n      id: \"createTimeRangePicker\"\n    }), /*#__PURE__*/react.createElement(components/* FilterItem */.L2, {\n      label:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"CreateTime\")\n    }, /*#__PURE__*/react.createElement(es_form/* default.Item */.Z.Item, {\n      name: \"createTime\"\n    }, /*#__PURE__*/react.createElement(RangePicker, {\n      style: {\n        width: '100%'\n      }\n    })))), user.type === 'ctv' ? /*#__PURE__*/react.createElement(col/* default */.Z, (0,esm_extends/* default */.Z)({}, TwoColProps, {\n      xl: {\n        span: 10\n      },\n      md: {\n        span: 24\n      },\n      xs: {\n        span: 12\n      }\n    }), /*#__PURE__*/react.createElement(row/* default */.Z, {\n      type: \"flex\",\n      align: \"middle\",\n      justify: \"space-between\"\n    }, /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(es_button/* default */.ZP, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"margin-right\",\n      onClick: this.handleSubmit\n    }, /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n      id: \"Search\"\n    })), /*#__PURE__*/react.createElement(es_button/* default */.ZP, {\n      onClick: this.handleReset\n    }, /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n      id: \"Reset\"\n    }))), /*#__PURE__*/react.createElement(es_button/* default */.ZP, {\n      onClick: onAdd,\n      style: {\n        float: 'right'\n      }\n    }, /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n      id: \"Create\"\n    })))) : /*#__PURE__*/react.createElement(col/* default */.Z, (0,esm_extends/* default */.Z)({}, TwoColProps, {\n      xl: {\n        span: 8\n      },\n      md: {\n        span: 24\n      },\n      xs: {\n        span: 12\n      }\n    }), /*#__PURE__*/react.createElement(row/* default */.Z, {\n      type: \"flex\",\n      align: \"middle\",\n      justify: \"space-between\"\n    }, /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(es_button/* default */.ZP, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"margin-right\",\n      onClick: this.handleSubmit\n    }, /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n      id: \"Search\"\n    })), /*#__PURE__*/react.createElement(es_button/* default */.ZP, {\n      onClick: this.handleReset\n    }, /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n      id: \"Reset\"\n    }))), /*#__PURE__*/react.createElement(es_button/* default */.ZP, {\n      onClick: onAdd,\n      style: {\n        float: 'right'\n      }\n    }, /*#__PURE__*/react.createElement(build_esm/* Trans */.cC, {\n      id: \"Create\"\n    }))))));\n  }\n\n}\n\n/* harmony default export */ var components_Filter = (Filter);\n;// CONCATENATED MODULE: ./src/pages/shopee/components/Modal.jsx\n\n\n\nvar Modal_excluded = [\"item\", \"onOk\", \"form\", \"domain\"];\n\n\n\n\nvar FormItem = es_form/* default.Item */.Z.Item;\nvar formItemLayout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 24\n  }\n};\n\nvar makeString = function makeString(length) {\n  var result = '';\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var charactersLength = characters.length;\n\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  return result;\n};\n\nclass LinkModal extends react.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.formRef = /*#__PURE__*/react.createRef();\n\n    this.handleChoiceDomain = e => {\n      var domain = this.props.domain;\n\n      if (e && e.length > 0) {\n        var _doamin = domain.find(f => f.id === e[0]);\n\n        if (_doamin && _doamin.attributes && _doamin.attributes.subid) {\n          this.formRef.current.setFieldsValue({\n            id5: _doamin.attributes.subid\n          });\n        }\n      }\n    };\n\n    this.handleOk = () => {\n      var _this$props = this.props,\n          _this$props$item = _this$props.item,\n          item = _this$props$item === void 0 ? {} : _this$props$item,\n          onOk = _this$props.onOk;\n      this.formRef.current.validateFields().then(values => {\n        var data = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, values), {}, {\n          key: item.key\n        });\n\n        onOk(data);\n      }).catch(errorInfo => {\n        console.log(errorInfo);\n      });\n    };\n  }\n\n  render() {\n    var _this$props2 = this.props,\n        _this$props2$item = _this$props2.item,\n        item = _this$props2$item === void 0 ? {} : _this$props2$item,\n        onOk = _this$props2.onOk,\n        form = _this$props2.form,\n        domain = _this$props2.domain,\n        modalProps = (0,objectWithoutProperties/* default */.Z)(_this$props2, Modal_excluded);\n\n    var user = store_legacy_default().get('user');\n    var domains = domain.map(m => {\n      return {\n        id: m.id,\n        value: m.id,\n        label: m.attributes.name\n      };\n    });\n    var initialValues = {\n      shortlink: makeString(7),\n      id1: user.username\n    };\n    return /*#__PURE__*/react.createElement(modal/* default */.Z, (0,esm_extends/* default */.Z)({}, modalProps, {\n      onOk: this.handleOk\n    }), /*#__PURE__*/react.createElement(es_form/* default */.Z, {\n      ref: this.formRef,\n      name: \"control-ref\",\n      layout: \"vertical\",\n      initialValues: initialValues\n    }, /*#__PURE__*/react.createElement(FormItem, {\n      name: \"domainid\",\n      label:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Ch\\u1ECDn D\\u1EF1 \\xC1n\"),\n      rules: [{\n        required: true\n      }]\n    }, /*#__PURE__*/react.createElement(cascader/* default */.Z, {\n      style: {\n        width: '100%'\n      },\n      options: domains,\n      placeholder:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Ch\\u1ECDn d\\u1EF1 \\xE1n\"),\n      onChange: this.handleChoiceDomain\n    })), /*#__PURE__*/react.createElement(FormItem, (0,esm_extends/* default */.Z)({\n      name: \"shortlink\",\n      rules: [{\n        required: true\n      }],\n      label:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Short Link\"),\n      hasFeedback: true\n    }, formItemLayout), /*#__PURE__*/react.createElement(input/* default */.Z, null)), /*#__PURE__*/react.createElement(FormItem, (0,esm_extends/* default */.Z)({\n      name: \"originallink\",\n      rules: [{\n        required: true\n      }],\n      label:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Link Shopee\"),\n      hasFeedback: true\n    }, formItemLayout), /*#__PURE__*/react.createElement(input/* default */.Z, null)), /*#__PURE__*/react.createElement(FormItem, (0,esm_extends/* default */.Z)({\n      name: \"id1\",\n      rules: [{\n        required: true\n      }],\n      label:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Id 1\"),\n      hasFeedback: true\n    }, formItemLayout), /*#__PURE__*/react.createElement(input/* default */.Z, {\n      disabled: true\n    })), /*#__PURE__*/react.createElement(FormItem, (0,esm_extends/* default */.Z)({\n      name: \"id2\",\n      rules: [],\n      label:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Id 2\"),\n      hasFeedback: true\n    }, formItemLayout), /*#__PURE__*/react.createElement(input/* default */.Z, null)), /*#__PURE__*/react.createElement(FormItem, (0,esm_extends/* default */.Z)({\n      name: \"id3\",\n      rules: [],\n      label:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Id 3\"),\n      hasFeedback: true\n    }, formItemLayout), /*#__PURE__*/react.createElement(input/* default */.Z, null)), /*#__PURE__*/react.createElement(FormItem, (0,esm_extends/* default */.Z)({\n      name: \"id4\",\n      rules: [],\n      label:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Id 4\"),\n      hasFeedback: true\n    }, formItemLayout), /*#__PURE__*/react.createElement(input/* default */.Z, null)), /*#__PURE__*/react.createElement(FormItem, (0,esm_extends/* default */.Z)({\n      name: \"id5\",\n      rules: [],\n      label:\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Id 5\"),\n      hasFeedback: true\n    }, formItemLayout), /*#__PURE__*/react.createElement(input/* default */.Z, {\n      disabled: true\n    }))));\n  }\n\n}\n\n/* harmony default export */ var Modal = (LinkModal);\n;// CONCATENATED MODULE: ./src/pages/shopee/index.jsx\n\n\n\n\nvar _dec, _class;\n\n\n\n\n\n\n\n\n\n\nvar Shopee = (_dec = (0,umiExports/* connect */.$j)(_ref => {\n  var shopee = _ref.shopee,\n      loading = _ref.loading;\n  return {\n    shopee,\n    loading\n  };\n}), _dec(_class = class Shopee extends react.PureComponent {\n  constructor() {\n    super(...arguments);\n\n    this.handleRefresh = newQuery => {\n      var _this$props = this.props,\n          dispatch = _this$props.dispatch,\n          location = _this$props.location;\n      var query = location.query,\n          pathname = location.pathname;\n      var filters = {};\n\n      if (newQuery.link) {\n        filters['$or'] = [{\n          shortlink: {\n            $containsi: newQuery.link\n          }\n        }, {\n          originallink: {\n            $containsi: newQuery.link\n          }\n        }];\n      }\n\n      if (newQuery.createTime && newQuery.createTime.length > 1) {\n        filters['$and'] = [{\n          createdAt: {\n            $gte: newQuery.createTime[0]\n          }\n        }, {\n          createdAt: {\n            $lte: newQuery.createTime[1]\n          }\n        }];\n      }\n\n      if (newQuery.user && newQuery.user.length > 0) {\n        filters.users_permissions_user = newQuery.user[0];\n      }\n\n      console.log(filters);\n\n      var _query = (0,lib.stringify)({\n        filters,\n        page: newQuery.page\n      }, {\n        encodeValuesOnly: true\n      });\n\n      umiExports/* history.push */.m8.push({\n        pathname,\n        search: _query\n      });\n    };\n  }\n\n  get modalProps() {\n    var _this$props2 = this.props,\n        dispatch = _this$props2.dispatch,\n        shopee = _this$props2.shopee,\n        loading = _this$props2.loading;\n    var currentItem = shopee.currentItem,\n        modalOpen = shopee.modalOpen,\n        modalType = shopee.modalType,\n        list = shopee.list,\n        pagination = shopee.pagination,\n        domain = shopee.domain;\n    var seft = this;\n    return {\n      item: modalType === 'create' ? {} : currentItem,\n      open: modalOpen,\n      destroyOnClose: true,\n      maskClosable: false,\n      domain,\n      confirmLoading: loading.effects[\"shopee/\".concat(modalType)],\n      title: \"\".concat(modalType === 'create' ?\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Create Link\") :\n      /*i18n*/\n      esm/* i18n._ */.ag._(\"Update Link\")),\n      centered: true,\n      onOk: data => {\n        if (data.domainid && data.domainid.length > 0) {\n          data.domain = domain.find(i => i.id === data.domainid[0]);\n        }\n\n        dispatch({\n          type: \"shopee/\".concat(modalType),\n          payload: data\n        }).then( /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n          return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  seft.handleRefresh({\n                    page: list.length === 1 && pagination.current > 1 ? pagination.current - 1 : pagination.current\n                  });\n\n                case 1:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        })));\n      },\n\n      onCancel() {\n        dispatch({\n          type: 'shopee/hideModal'\n        });\n      }\n\n    };\n  }\n\n  get listProps() {\n    var _this$props3 = this.props,\n        dispatch = _this$props3.dispatch,\n        shopee = _this$props3.shopee,\n        loading = _this$props3.loading;\n    var list = shopee.list,\n        pagination = shopee.pagination;\n    return {\n      dataSource: list,\n      //.map(m=> { return { ...m.attributes,id: m.id } }),\n      loading: loading.effects['shopee/query'],\n      pagination,\n      onChange: page => {\n        this.handleRefresh({\n          page: page.current,\n          pageSize: page.pageSize\n        });\n      },\n      onDeleteItem: id => {\n        dispatch({\n          type: 'shopee/delete',\n          payload: id\n        }).then(() => {\n          this.handleRefresh({\n            page: list.length === 1 && pagination.current > 1 ? pagination.current - 1 : pagination.current\n          });\n        });\n      },\n\n      onEditItem(item) {\n        dispatch({\n          type: 'shopee/showModal',\n          payload: {\n            modalType: 'update',\n            currentItem: item\n          }\n        });\n      }\n\n    };\n  }\n\n  get filterProps() {\n    var _this$props4 = this.props,\n        location = _this$props4.location,\n        dispatch = _this$props4.dispatch,\n        shopee = _this$props4.shopee;\n    var query = location.query;\n    var seft = this;\n    return {\n      filter: (0,objectSpread2/* default */.Z)({}, query),\n      listUser: shopee.users,\n      onFilterChange: value => {\n        seft.handleRefresh((0,objectSpread2/* default */.Z)({}, value));\n      },\n\n      onAdd() {\n        dispatch({\n          type: 'shopee/showModal',\n          payload: {\n            modalType: 'create'\n          }\n        });\n        seft.handleRefresh({});\n      }\n\n    };\n  }\n\n  render() {\n    var shopee = this.props.shopee;\n    return /*#__PURE__*/react.createElement(components/* Page */.T3, {\n      inner: true\n    }, /*#__PURE__*/react.createElement(components_Filter, this.filterProps), /*#__PURE__*/react.createElement(components_List, this.listProps), /*#__PURE__*/react.createElement(Modal, this.modalProps));\n  }\n\n}) || _class);\n/* harmony default export */ var shopee = (Shopee);\n\n//# sourceURL=webpack://antd-admin/./src/pages/shopee/index.jsx_+_3_modules?");

/***/ })

}]);